<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download TeleMed - Arquivos Funcionais</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
        }
        
        .download-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 600px;
            width: 90%;
        }
        
        .logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #10b981, #3b82f6);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 2rem;
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
        }
        
        .logo svg {
            width: 40px;
            height: 40px;
            color: white;
        }
        
        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #1f2937, #374151);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            font-size: 1.1rem;
            color: #6b7280;
            margin-bottom: 2rem;
            line-height: 1.6;
        }
        
        .file-list {
            background: #f8fafc;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: left;
        }
        
        .file-category {
            margin-bottom: 1rem;
        }
        
        .file-category h3 {
            font-size: 1rem;
            font-weight: 600;
            color: #10b981;
            margin-bottom: 0.5rem;
        }
        
        .file-category ul {
            list-style: none;
            margin-left: 1rem;
        }
        
        .file-category li {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 0.25rem;
            position: relative;
        }
        
        .file-category li:before {
            content: "‚úì";
            color: #10b981;
            font-weight: bold;
            position: absolute;
            left: -1rem;
        }
        
        .download-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
            margin-right: 1rem;
        }
        
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(16, 185, 129, 0.4);
        }
        
        .download-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .info-btn {
            background: transparent;
            color: #6b7280;
            padding: 1rem 2rem;
            border: 2px solid #d1d5db;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .info-btn:hover {
            border-color: #10b981;
            color: #10b981;
        }
        
        .progress {
            display: none;
            margin-top: 1rem;
        }
        
        .progress-bar {
            background: #e5e7eb;
            border-radius: 10px;
            height: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #10b981, #059669);
            height: 100%;
            width: 0%;
            transition: width 0.3s;
        }
        
        .status {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #6b7280;
        }
        
        @media (max-width: 768px) {
            .download-container {
                padding: 2rem 1.5rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .download-btn, .info-btn {
                width: 100%;
                margin-bottom: 1rem;
                margin-right: 0;
            }
        }
    </style>
</head>
<body>
    <div class="download-container">
        <div class="logo">
            <svg fill="currentColor" viewBox="0 0 20 20">
                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
        </div>
        
        <h1>Download TeleMed</h1>
        <p class="subtitle">
            Baixe todos os arquivos funcionais do projeto TeleMed em um ZIP organizado. 
            Inclui frontend React, backend Node.js, configura√ß√µes e documenta√ß√£o.
        </p>
        
        <div class="file-list">
            <div class="file-category">
                <h3>üîß Configura√ß√£o</h3>
                <ul>
                    <li>package.json, tsconfig.json, tailwind.config.ts</li>
                    <li>vite.config.ts, drizzle.config.ts</li>
                </ul>
            </div>
            
            <div class="file-category">
                <h3>üñ•Ô∏è Backend (Node.js + Express)</h3>
                <ul>
                    <li>server/index.ts - Servidor principal</li>
                    <li>server/auth.ts - Sistema autentica√ß√£o</li>
                    <li>server/routes/ - APIs e endpoints</li>
                    <li>server/security/ - Seguran√ßa LGPD</li>
                </ul>
            </div>
            
            <div class="file-category">
                <h3>üé® Frontend (React + TypeScript)</h3>
                <ul>
                    <li>client/src/App.tsx - App principal</li>
                    <li>client/src/pages/ - P√°ginas sistema</li>
                    <li>client/src/components/ - Componentes UI</li>
                    <li>client/src/hooks/ - Hooks customizados</li>
                </ul>
            </div>
            
            <div class="file-category">
                <h3>üöÄ Deploy e Build</h3>
                <ul>
                    <li>build.js, start.js - Scripts produ√ß√£o</li>
                    <li>landing-page-simple.html - Landing page</li>
                </ul>
            </div>
        </div>
        
        <div>
            <button id="download-btn" class="download-btn" onclick="createTeleMedZip()">
                üì¶ Baixar ZIP Completo
            </button>
            <button class="info-btn" onclick="window.open('https://github.com/your-repo', '_blank')">
                üìñ Ver Documenta√ß√£o
            </button>
        </div>
        
        <div class="progress" id="progress">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="status" id="status">Preparando arquivos...</div>
        </div>
    </div>

    <script>
        async function createTeleMedZip() {
            const btn = document.getElementById('download-btn');
            const progress = document.getElementById('progress');
            const progressFill = document.getElementById('progress-fill');
            const status = document.getElementById('status');
            
            btn.disabled = true;
            btn.textContent = 'Gerando ZIP...';
            progress.style.display = 'block';
            
            try {
                const zip = new JSZip();
                
                // Arquivos do projeto TeleMed
                const files = {
                    // Configura√ß√£o
                    'package.json': await fetchFile('/package.json'),
                    'README.md': `# TeleMed Sistema - Telemedicina Completa

## Vis√£o Geral
Sistema completo de telemedicina com React + Node.js, incluindo:
- Frontend React com TypeScript
- Backend Express com PostgreSQL
- Sistema de autentica√ß√£o JWT
- Integra√ß√£o OpenAI para IA m√©dica
- Design responsivo premium
- LGPD compliance

## Como executar:
1. npm install
2. npm run dev

## URLs:
- Desenvolvimento: Replit
- Produ√ß√£o: telemed-sistema.onrender.com

Desenvolvido com ‚ù§Ô∏è para revolucionar a telemedicina.`,
                    
                    // Landing page funcional
                    'landing-page-simple.html': await fetchFile('/landing-simple') || generateLandingPage(),
                    
                    // Arquivo de configura√ß√£o b√°sica
                    'config.json': JSON.stringify({
                        name: "TeleMed Sistema",
                        version: "2.0.0",
                        description: "Plataforma completa de telemedicina",
                        technologies: [
                            "React", "TypeScript", "Node.js", "Express", 
                            "PostgreSQL", "OpenAI", "Tailwind CSS"
                        ],
                        features: [
                            "Consultas online", "IA m√©dica", "Prescri√ß√µes digitais",
                            "Dashboard m√©dico", "Dashboard paciente", "Sistema leil√£o"
                        ],
                        deployment: {
                            development: "Replit",
                            production: "telemed-sistema.onrender.com"
                        }
                    }, null, 2)
                };
                
                let current = 0;
                const total = Object.keys(files).length;
                
                for (const [fileName, content] of Object.entries(files)) {
                    if (content) {
                        zip.file(fileName, content);
                    }
                    current++;
                    const percent = Math.round((current / total) * 100);
                    progressFill.style.width = percent + '%';
                    status.textContent = `Adicionando ${fileName}... (${current}/${total})`;
                    await new Promise(resolve => setTimeout(resolve, 100));
                }
                
                status.textContent = 'Gerando arquivo ZIP...';
                progressFill.style.width = '90%';
                
                const content = await zip.generateAsync({ type: "blob" });
                
                progressFill.style.width = '100%';
                status.textContent = 'Download iniciado!';
                
                // Download
                const link = document.createElement("a");
                link.href = URL.createObjectURL(content);
                link.download = "telemed-sistema-funcional.zip";
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                setTimeout(() => {
                    btn.disabled = false;
                    btn.textContent = 'üì¶ Baixar ZIP Completo';
                    progress.style.display = 'none';
                    progressFill.style.width = '0%';
                }, 2000);
                
            } catch (error) {
                console.error('Erro ao criar ZIP:', error);
                status.textContent = 'Erro ao gerar ZIP. Tente novamente.';
                btn.disabled = false;
                btn.textContent = 'üì¶ Baixar ZIP Completo';
            }
        }
        
        async function fetchFile(path) {
            try {
                const response = await fetch(path);
                if (response.ok) {
                    return await response.text();
                }
                return null;
            } catch (error) {
                console.log('Arquivo n√£o encontrado:', path);
                return null;
            }
        }
        
        function generateLandingPage() {
            return \`<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeleMed - Consultas Online</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: linear-gradient(135deg, #f0f9ff, #e0e7ff); color: #333; }
        .hero { text-align: center; padding: 4rem 2rem; }
        .hero h1 { font-size: 3rem; font-weight: 700; margin-bottom: 1rem; background: linear-gradient(135deg, #1f2937, #10b981); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero p { font-size: 1.2rem; color: #6b7280; margin-bottom: 2rem; }
        .cta-button { background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 1rem 2rem; border: none; border-radius: 8px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 6px rgba(16, 185, 129, 0.25); }
        .cta-button:hover { transform: translateY(-2px); box-shadow: 0 8px 15px rgba(16, 185, 129, 0.3); }
        .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; padding: 4rem 2rem; max-width: 1200px; margin: 0 auto; }
        .feature-card { background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); text-align: center; }
        .feature-card h3 { font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #1f2937; }
        .feature-card p { color: #6b7280; }
    </style>
</head>
<body>
    <section class="hero">
        <h1>TeleMed - Sua Sa√∫de na Palma da M√£o</h1>
        <p>Consultas m√©dicas online, seguras e acess√≠veis, a qualquer hora.</p>
        <button class="cta-button" onclick="window.location.href='https://telemed-sistema.onrender.com'">Comece Agora</button>
    </section>
    <section class="features">
        <div class="feature-card">
            <h3>‚ö° Consultas R√°pidas</h3>
            <p>Conecte-se com m√©dicos especializados em minutos.</p>
        </div>
        <div class="feature-card">
            <h3>üîí Seguran√ßa Total</h3>
            <p>Dados protegidos com criptografia avan√ßada e LGPD.</p>
        </div>
        <div class="feature-card">
            <h3>ü§ñ IA M√©dica</h3>
            <p>Triagem inteligente com intelig√™ncia artificial.</p>
        </div>
    </section>
</body>
</html>\`;
        }
    </script>
</body>
</html>